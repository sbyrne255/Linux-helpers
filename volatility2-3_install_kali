sudo bash -c 'apt update && apt -y full-upgrade && apt install -y python2 python2-dev python3 python3-dev python3-venv build-essential git libyara-dev yara curl && mkdir -p /opt/volatility2 /opt/volatility3 && curl -s https://bootstrap.pypa.io/pip/2.7/get-pip.py -o /tmp/get-pip.py && python2 /tmp/get-pip.py && git clone https://github.com/volatilityfoundation/volatility.git /opt/volatility2 && python2 -m pip install -U setuptools wheel && python2 -m pip install distorm3==3.4.4 pycrypto pillow openpyxl ujson pytz capstone yara-python==3.7.0 && git clone https://github.com/volatilityfoundation/volatility3.git /opt/volatility3 && python3 -m venv /opt/volatility3/venv && /opt/volatility3/venv/bin/pip install -U pip && ([ -f /opt/volatility3/requirements.txt ] && /opt/volatility3/venv/bin/pip install -r /opt/volatility3/requirements.txt || true) && echo -e "#!/bin/bash\npython2 /opt/volatility2/vol.py \"\$@\"" > /usr/local/bin/vol2 && chmod +x /usr/local/bin/vol2 && echo -e "#!/bin/bash\n/opt/volatility3/venv/bin/python /opt/volatility3/vol.py \"\$@\"" > /usr/local/bin/vol3 && chmod +x /usr/local/bin/vol3 && echo \"Install complete. Use: vol2 | vol3\"'
